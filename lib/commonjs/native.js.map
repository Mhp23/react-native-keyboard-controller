{"version":3,"names":["LINKING_ERROR","Platform","select","ios","default","AndroidSoftInputModes","ComponentName","RCTKeyboardController","NativeModules","KeyboardController","eventEmitter","NativeEventEmitter","KeyboardEvents","addListener","name","cb","KeyboardControllerView","UIManager","getViewManagerConfig","requireNativeComponent","Error","useResizeMode","useEffect","setInputMode","SOFT_INPUT_ADJUST_RESIZE","setDefaultMode"],"sources":["native.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport {\n  requireNativeComponent,\n  UIManager,\n  Platform,\n  NativeModules,\n  NativeEventEmitter,\n  NativeSyntheticEvent,\n  ViewProps,\n} from 'react-native';\n\nconst LINKING_ERROR =\n  `The package 'react-native-keyboard-controller' doesn't seem to be linked. Make sure: \\n\\n` +\n  Platform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\n  '- You rebuilt the app after installing the package\\n' +\n  '- You are not using Expo managed workflow\\n';\n\nexport enum AndroidSoftInputModes {\n  SOFT_INPUT_ADJUST_NOTHING = 48,\n  SOFT_INPUT_ADJUST_PAN = 32,\n  SOFT_INPUT_ADJUST_RESIZE = 16,\n  SOFT_INPUT_ADJUST_UNSPECIFIED = 0,\n}\n\nexport type NativeEvent = {\n  progress: number;\n  height: number;\n};\nexport type EventWithName<T> = {\n  eventName: string;\n} & T;\nexport type KeyboardControllerProps = {\n  onKeyboardMove: (e: NativeSyntheticEvent<EventWithName<NativeEvent>>) => void;\n  // fake prop used to activate reanimated bindings\n  onKeyboardMoveReanimated: (\n    e: NativeSyntheticEvent<EventWithName<NativeEvent>>\n  ) => void;\n  statusBarTranslucent?: boolean;\n} & ViewProps;\ntype KeyboardController = {\n  // android only\n  setDefaultMode: () => void;\n  setInputMode: (mode: AndroidSoftInputModes) => void;\n};\n\nconst ComponentName = 'KeyboardControllerView';\n\nconst RCTKeyboardController = NativeModules.KeyboardController;\nexport const KeyboardController = RCTKeyboardController as KeyboardController;\n\nconst eventEmitter = new NativeEventEmitter(RCTKeyboardController);\ntype KeyboardControllerEvents =\n  | 'keyboardWillShow'\n  | 'keyboardDidShow'\n  | 'keyboardWillHide'\n  | 'keyboardDidHide';\ntype KeyboardEvent = {\n  height: number;\n};\nexport const KeyboardEvents = {\n  addListener: (\n    name: KeyboardControllerEvents,\n    cb: (e: KeyboardEvent) => void\n  ) => eventEmitter.addListener('KeyboardController::' + name, cb),\n};\nexport const KeyboardControllerView =\n  UIManager.getViewManagerConfig(ComponentName) != null\n    ? requireNativeComponent<KeyboardControllerProps>(ComponentName)\n    : () => {\n        throw new Error(LINKING_ERROR);\n      };\n\nexport const useResizeMode = () => {\n  useEffect(() => {\n    KeyboardController.setInputMode(\n      AndroidSoftInputModes.SOFT_INPUT_ADJUST_RESIZE\n    );\n\n    return () => KeyboardController.setDefaultMode();\n  }, []);\n};\n"],"mappings":";;;;;;;AAAA;;AACA;;AAUA,MAAMA,aAAa,GAChB,2FAAD,GACAC,qBAAA,CAASC,MAAT,CAAgB;EAAEC,GAAG,EAAE,gCAAP;EAAyCC,OAAO,EAAE;AAAlD,CAAhB,CADA,GAEA,sDAFA,GAGA,6CAJF;IAMYC,qB;;;WAAAA,qB;EAAAA,qB,CAAAA,qB;EAAAA,qB,CAAAA,qB;EAAAA,qB,CAAAA,qB;EAAAA,qB,CAAAA,qB;GAAAA,qB,qCAAAA,qB;;AA4BZ,MAAMC,aAAa,GAAG,wBAAtB;AAEA,MAAMC,qBAAqB,GAAGC,0BAAA,CAAcC,kBAA5C;AACO,MAAMA,kBAAkB,GAAGF,qBAA3B;;AAEP,MAAMG,YAAY,GAAG,IAAIC,+BAAJ,CAAuBJ,qBAAvB,CAArB;AASO,MAAMK,cAAc,GAAG;EAC5BC,WAAW,EAAE,CACXC,IADW,EAEXC,EAFW,KAGRL,YAAY,CAACG,WAAb,CAAyB,yBAAyBC,IAAlD,EAAwDC,EAAxD;AAJuB,CAAvB;;AAMA,MAAMC,sBAAsB,GACjCC,sBAAA,CAAUC,oBAAV,CAA+BZ,aAA/B,KAAiD,IAAjD,GACI,IAAAa,mCAAA,EAAgDb,aAAhD,CADJ,GAEI,MAAM;EACJ,MAAM,IAAIc,KAAJ,CAAUpB,aAAV,CAAN;AACD,CALA;;;AAOA,MAAMqB,aAAa,GAAG,MAAM;EACjC,IAAAC,gBAAA,EAAU,MAAM;IACdb,kBAAkB,CAACc,YAAnB,CACElB,qBAAqB,CAACmB,wBADxB;IAIA,OAAO,MAAMf,kBAAkB,CAACgB,cAAnB,EAAb;EACD,CAND,EAMG,EANH;AAOD,CARM"}